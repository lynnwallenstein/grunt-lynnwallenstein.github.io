<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><title>Nested Layouts with Less Divs</title><meta name=description content=""><meta name=viewport content="width=device-width, initial-scale=1"><link rel=stylesheet href=/css/4b16.main.css><script type=text/javascript src=//use.typekit.net/sck7umt.js></script><script type=text/javascript>try{Typekit.load();}catch(e){}</script></head><body class=preload><header id=page-header role=banner><a href=/><h1>Lynn.io</h1></a><ul class=social-links><li><a class="ss-icon ss-social-circle" href=http://www.github.com/lynnwallenstein target=github>GitHubOctocat</a></li><li><a class="ss-icon ss-social-circle" href=http://www.twitter.com/lynnwallenstein target=twitter>Twitter</a></li><li><a class="ss-icon ss-social-circle" href=http://www.dribbble.com/lynnwallenstein target=dribbble>Dribbble</a></li></ul></header><nav id=page-navigation><ol><li class=""><a href=/about/index.html>About</a></li><li class=""><a href=/>Posts</a></li></ol></nav><main id=page-main role=main><article class=post><header class=post-header><h1>Nested Layouts with Less Divs</h1></header><p>First to start out, this method relies heavily on the use of the CSS <a href=http://caniuse.com/calc>Calc</a> as a unit value. This is fairly well supported on most modern browsers, but if you need to support old versions of IE (pre 9), this probably won&#39;t work for you.</p><p>Ok now that we got that out of the way...</p><p>A currently very popular design style is what I call &quot;nested layouts&quot;. By this I mean the page is broken up into sections where the content is in the center, but some attribute such as a border or background color stretches the total width of the page.</p><h2>The Example</h2><p>A great example of this is one of my favorite sites <a href=http://www.github.com>GitHub</a> :)</p><p><a href=/img/post-assets/2013-12-22/f37f.github.png title="GitHub Dot Com, The Web Site" class=colorbox><img src=/img/post-assets/2013-12-22/f37f.github.png></a></p><p>While the GitHub web site doesn&#39;t actually use the code method I describe in this post, it is a good visual example of the design style:</p><p><a href=/img/post-assets/2013-12-22/3745.github-annotation.png title="Page sections on GitHub with comment nest" class=colorbox><img src=/img/post-assets/2013-12-22/3745.github-annotation.png></a></p><p>So in our example we have three content sections:</p><ul><li>Header</li><li>Content</li><li>Footer</li></ul><p>Each of these have design attributes (background color/image) that stretch the whole width of the page, but the content is nested in the center of the page. To achieve this effect GitHub wraps each content section in an <code>div</code> that it is full width and contains the design attributes (background color/image.)</p><p>For our example lets focus on just the content section with the black iconed image background. We have a wrapping div with the styles for the <code>background-image</code>:</p><p><a href=/img/post-assets/2013-12-22/05f4.github-content-wrapper.png title="Content Wrapper" class=colorbox><img src=/img/post-assets/2013-12-22/05f4.github-content-wrapper.png></a></p><p>and then another <code>div</code> containing the content nested in the center using a fixed width with an auto margin, basicaly centering the content.</p><p><a href=/img/post-assets/2013-12-22/7374.github-content.png title=Content class=colorbox><img src=/img/post-assets/2013-12-22/7374.github-content.png></a></p><h2>Why is this Bad?</h2><p>Its not &quot;bad&quot;, it just adds a lot of extra unneccessary markup/divs which:</p><ul><li>Increases complexity of page making it harder to work with/change/maintain</li><li>Makes it harder to use responsive CSS for responsive design</li><li>More code coming down the wire/larger page/performance</li></ul><p>There is a better way! ... IF you don&#39;t have to worry about older browsers :)</p><h2>Calc All the Things!</h2><p><a href=https://developer.mozilla.org/en-US/docs/Web/CSS/calc>Calc</a> is one of my favorite new things about CSS. If you haven&#39;t played around with it, I highly recommend you do. Tt is immensely powerful and has enabled me to do so many amazing things without relying on absolute positioning and/or adding tons of extra markup.</p><p>The key is that calc allows the browser to use mixed units for units of measurements. For some good examples of calc is use, there is a great <a href=http://css-tricks.com/a-couple-of-use-cases-for-calc/>CSSTricks</a> article that goes over some common design patters and how calc can be used to achieve them.</p><p>So how can calc help us from <a href=http://en.wiktionary.org/wiki/divitis>Divitis</a>? Easily!</p><p>So lets start by simplifying our markup a little bit:</p><div class=highlight><pre><code class="html language-html" data-lang=html><span class=nt>&lt;header</span> <span class=na>id=</span><span class=s>&quot;page-header&quot;</span> <span class=na>role=</span><span class=s>&quot;banner&quot;</span><span class=nt>&gt;</span>
  <span class=nt>&lt;h1&gt;</span>Here Is Our Header!<span class=nt>&lt;/h1&gt;</span>
<span class=nt>&lt;/header&gt;</span><span class=c>&lt;!-- /header#page-header --&gt;</span>

<span class=nt>&lt;div</span> <span class=na>id=</span><span class=s>&quot;main&quot;</span> <span class=na>role=</span><span class=s>&quot;main&quot;</span><span class=nt>&gt;</span>
  <span class=nt>&lt;p&gt;</span>Our Main &quot;content&quot; area.<span class=nt>&lt;/p&gt;</span>
<span class=nt>&lt;/div&gt;</span><span class=c>&lt;!-- /div#main --&gt;</span>

<span class=nt>&lt;footer</span> <span class=na>id=</span><span class=s>&quot;page-footer&quot;</span><span class=nt>&gt;</span>
  A footer... cause, why not.
<span class=nt>&lt;/footer&gt;</span><span class=c>&lt;!-- /footer#page-footer --&gt;</span>
</code></pre></div><p>This is pretty clean and simple and we don&#39;t really want to add any more markup just for the sake of our design. Using calc we can dynamically add padding to the left and right so that the content is centered, but the design styles will apply to the whole block.</p><p>Lets take our <code>#main</code> and style it with a black background with the content in a 1280px width nested in the center.</p><h2>The Math</h2><p>So the math here is we have the full page width (100%) and we need to take out a fixed pixel chunk for our content (1280px) and then the padding on either side is half of whatever is left ... 50% of that for the right, 50% for the left:</p><p>Each margin: <code>(100% - 1280px) / 2</code></p><p>We could do that with calc like this:</p><div class=highlight><pre><code class="css language-css" data-lang=css><span class=nf>#main</span> <span class=p>{</span>
  <span class=k>background-color</span><span class=o>:</span> <span class=nb>black</span><span class=p>;</span>
  <span class=k>padding-right</span><span class=o>:</span> <span class=n>calc</span><span class=p>((</span><span class=m>100</span><span class=o>%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-left</span><span class=o>:</span> <span class=n>calc</span><span class=p>((</span><span class=m>100</span><span class=o>%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p>Now remember, calc is pretty new, so probably to be safe you might want to add the browser vendor prefixes (or use something like a preprocessor such as <a href=http://sass-lang.com/>Sass</a> with mixins to take care of it :</p><div class=highlight><pre><code class="css language-css" data-lang=css><span class=nf>#main</span> <span class=p>{</span>
  <span class=k>background-color</span><span class=o>:</span> <span class=nb>black</span><span class=p>;</span>
  <span class=k>padding-left</span><span class=o>:</span> <span class=o>-</span><span class=n>moz</span><span class=o>-</span><span class=n>calc</span><span class=p>((</span><span class=m>100</span><span class=o>%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-left</span><span class=o>:</span> <span class=o>-</span><span class=n>webkit</span><span class=o>-</span><span class=n>calc</span><span class=p>((</span><span class=m>100</span><span class=o>%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-left</span><span class=o>:</span> <span class=n>calc</span><span class=p>((</span><span class=m>100</span><span class=o>%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-right</span><span class=o>:</span> <span class=o>-</span><span class=n>moz</span><span class=o>-</span><span class=n>calc</span><span class=p>((</span><span class=m>100</span><span class=o>%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-right</span><span class=o>:</span> <span class=o>-</span><span class=n>webkit</span><span class=o>-</span><span class=n>calc</span><span class=p>((</span><span class=m>100</span><span class=o>%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-right</span><span class=o>:</span> <span class=n>calc</span><span class=p>((</span><span class=m>100</span><span class=o>%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><h2>See It in Action</h2><p>Using <a href=http://codepen.io/lynnwallenstein/pen/HKdCz>Codepen</a>, I created a similar (yet even cleaner! Sass &lt;3) version you can see in action:</p><p data-height=420 data-theme-id=0 data-slug-hash=HKdCz data-user=lynnwallenstein data-default-tab=result class=codepen>See the Pen <a href=http://codepen.io/lynnwallenstein/pen/HKdCz>HKdCz</a> by Lynn Wallenstein (<a href=http://codepen.io/lynnwallenstein>@lynnwallenstein</a>) on <a href=http://codepen.io>CodePen</a></p><script async src=//codepen.io/assets/embed/ei.js></script><h2>Thats It!</h2><p>Thats all it takes. Now I have a full width designed page, but centered content with beautiful semantic markup and no divitis!</p><footer class=post-footer><dl><dt>Tagged</dt><dd><ul class=tag-list><li><a href=/tag/css><span class="ss-icon ss-air">tag</span> css</a></li><li><a href=/tag/webdev><span class="ss-icon ss-air">tag</span> webdev</a></li></ul></dd><dt>Date Posted</dt><dd><time datetime=2013-12-22T20:20:20-05:00><span class="ss-icon ss-air">calendar</span> 22 Dec 2013</time></dd><dt>Trackback URL</dt><dd class=trackback-url><span class="ss-icon ss-air">bookmark</span><a href=http://lynn.io/2013/12/22/nested-layouts-with-less-divs/>http://lynn.io/2013/12/22/nested-layouts-with-less-divs/</a></dd></dl></footer></article></main><script src=//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/4a8b.script.js></script><script type=text/javascript>var _gauges=_gauges||[];(function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.id="gauges-tracker";e.setAttribute("data-site-id","5161d8fbf5a1f51ab200007c");e.src="//secure.gaug.es/track.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()</script></body></html>