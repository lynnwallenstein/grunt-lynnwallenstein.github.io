<!doctype html><html class=no-js lang=""><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Nested Layouts with Less Divs</title><meta name=viewport content="width=device-width, initial-scale=1"><link rel=stylesheet href=/css/934a.main.css><script type=text/javascript src=//use.typekit.net/sck7umt.js></script><script type=text/javascript>try{Typekit.load();}catch(e){}</script></head><body class="preload halloween"><header id=page-header role=banner><a id=title href="/"><svg xmlns=http://www.w3.org/2000/svg width=210.341 height=168.144 viewbox="0 0 210.341 168.144"><path clip-path=url(#SVGID_2_) fill=#231F20 d="M126.98 107.74s43.448-3.014 59.615-48.233c0 0 1.01 13.867-.506 17.485 0 0 8.588-4.22 12.63-10.852 0 0-2.02 13.867-5.053 16.278 0 0 7.577-2.41 11.114-6.028 0 0 .002 10.852-3.03 13.866 0 0 5.052 1.81 8.59.604 0 0-25.768 35.572-63.154 30.146-37.385-5.427-20.207-13.265-20.207-13.265"><path clip-path=url(#SVGID_2_) fill=#FAAF3C d="M57.246 156.972c-.312 3.053 1.91 5.782 4.962 6.094l.215.022c3.052.313 5.782-1.91 6.093-4.963l2.015-19.68c.314-3.055-1.908-5.783-4.962-6.095l-.215-.022c-3.052-.313-5.78 1.91-6.093 4.962l-2.014 19.682zM83.963 158.91c.555 3.02 3.45 5.017 6.47 4.463l.21-.038c3.02-.554 5.017-3.45 4.465-6.47l-3.57-19.46c-.554-3.02-3.45-5.017-6.47-4.463l-.21.04c-3.02.553-5.018 3.45-4.464 6.467l3.57 19.46z"><path clip-path=url(#SVGID_2_) fill=#F69221 d="M105.088 12.22C71.47-4.506 27.996 3.73 10.86 38.17c-17.134 34.442-1.442 82.046 32.175 98.772 33.616 16.726 70.815.103 91.894-32.077 20.648-31.522 3.774-75.92-29.842-92.645"><path clip-path=url(#SVGID_2_) stroke=#FAAF3C stroke-width=7.722 stroke-miterlimit=10 d="M105.088 12.22C71.47-4.506 27.996 3.73 10.86 38.17c-17.134 34.442-1.442 82.046 32.175 98.772 33.616 16.726 70.815.103 91.894-32.077 20.648-31.522 3.774-75.92-29.842-92.645z" fill=none><path clip-path=url(#SVGID_2_) fill=#B8529E d="M55.167 158.04l14.195 1.24s-1.24 9.223-8.002 8.554c-6.762-.67-6.193-9.793-6.193-9.793M83.18 158.585l13.9-1.182s1.105 9.952-5.65 10.702c-6.752.75-8.25-9.52-8.25-9.52"><path clip-path=url(#SVGID_2_) fill=#F69221 d="M55.31 95.358c14.145 12.012 29.423 12.053 40.957 1.79"><path clip-path=url(#SVGID_2_) stroke=#FAAF3C stroke-width=7.722 stroke-linecap=round stroke-miterlimit=10 d="M55.31 95.358c14.145 12.012 29.423 12.053 40.957 1.79" fill=none><path clip-path=url(#SVGID_2_) fill=#FAAF3C d="M26.554 19.86s23.034 8.753 49.753 8.292c26.72-.46 41-9.214 41-9.214S91.047 4.196 70.317 3.735c-20.73-.46-43.763 16.125-43.763 16.125M111.318 14.792s10.2 41.422 31.163 53.898c0 0 9.065-28.945-31.162-53.898M32.08 17.556S18.26 50.264 2.6 60.86c0 0 .46-27.18 29.483-43.304"><path clip-path=url(#SVGID_2_) fill=#F5927A d="M44.637 88.048c0 4.41-3.573 7.983-7.983 7.983s-7.982-3.573-7.982-7.982c0-4.41 3.573-7.982 7.982-7.982 4.41 0 7.983 3.573 7.983 7.982M118.373 86.68c0 4.41-3.573 7.983-7.983 7.983-4.408 0-7.98-3.573-7.98-7.982 0-4.408 3.572-7.982 7.98-7.982 4.41 0 7.983 3.574 7.983 7.983"><path clip-path=url(#SVGID_4_) fill=#231F20 d="M6.01 48.59s104.077 5.556 132.37-6.064c0 0 8.588 13.137 8.588 26.777 0 0-59.616 12.63-64.163 7.073-4.547-5.558-8.59-4.042-11.115-.506-2.526 3.537-69.215 1.01-69.215 1.01S-1.062 59.704 6.01 48.59"><path clip-path=url(#SVGID_4_) fill=#3B68B1 d="M64.15 66.37c.226-1.93-1.988-4.304-4.02-4.542-2.033-.238-3.863 1.134-4.09 3.064-.227 1.93 1.174 4.314 3.206 4.553 2.032.238 4.677-1.145 4.903-3.075M100.028 67.915c.227-1.93-1.398-4.618-3.43-4.855-2.032-.24-4.717 1.753-4.943 3.683-.227 1.93 1.604 4.348 3.635 4.586 2.034.238 4.512-1.485 4.738-3.415"><path clip-path=url(#SVGID_4_) fill=#231F20 d="M28.185 129.93l46.794 6.82 47.315-10.862 12.548-12.125-59.864 17.935-60.128-15.66s4.968 7.83 13.333 13.892"><path clip-path=url(#SVGID_4_) fill=#FFF100 d="M81.49 132.96c0 3.35-2.803 6.064-6.264 6.064-3.46 0-6.264-2.714-6.264-6.063 0-3.347 2.804-6.062 6.264-6.062 3.46 0 6.265 2.714 6.265 6.063"><ellipse clip-path=url(#SVGID_4_) stroke=#231F20 stroke-width=2 stroke-miterlimit=10 cx=75.226 cy=132.961 rx=6.265 ry=6.063 fill=none></svg><h1>Lynn.io</h1></a><ul class=social-links><li><a class="ss-icon ss-social-circle" href=http://www.github.com/lynnwallenstein target=github>GitHubOctocat</a></li><li><a class="ss-icon ss-social-circle" href=http://www.twitter.com/lynnwallenstein target=twitter>Twitter</a></li><li><a class="ss-icon ss-social-circle" href=http://www.dribbble.com/lynnwallenstein target=dribbble>Dribbble</a></li></ul></header><nav id=page-navigation><ol><li class=""><a href=/about/index.html>About</a></li><li class=""><a href="/">Posts</a></li></ol></nav><main id=page-main role=main><article class=post><header class=post-header><h1>Nested Layouts with Less Divs</h1></header><p>First to start out, this method relies heavily on the use of the CSS <a href=http://caniuse.com/calc>Calc</a> as a unit value. This is fairly well supported on most modern browsers, but if you need to support old versions of IE (pre 9), this probably won&#39;t work for you.</p><p>Ok now that we got that out of the way...</p><p>A currently very popular design style is what I call &quot;nested layouts&quot;. By this I mean the page is broken up into sections where the content is in the center, but some attribute such as a border or background color stretches the total width of the page.</p><h2>The Example</h2><p>A great example of this is one of my favorite sites <a href=http://www.github.com>GitHub</a> :)</p><p><a href=/img/post-assets/2013-12-22/f37f.github.png title="GitHub Dot Com, The Web Site" class=colorbox><img src=/img/post-assets/2013-12-22/f37f.github.png></a></p><p>While the GitHub web site doesn&#39;t actually use the code method I describe in this post, it is a good visual example of the design style:</p><p><a href=/img/post-assets/2013-12-22/3745.github-annotation.png title="Page sections on GitHub with comment nest" class=colorbox><img src=/img/post-assets/2013-12-22/3745.github-annotation.png></a></p><p>So in our example we have three content sections:</p><ul><li>Header</li><li>Content</li><li>Footer</li></ul><p>Each of these have design attributes (background color/image) that stretch the whole width of the page, but the content is nested in the center of the page. To achieve this effect GitHub wraps each content section in an <code>div</code> that it is full width and contains the design attributes (background color/image.)</p><p>For our example lets focus on just the content section with the black iconed image background. We have a wrapping div with the styles for the <code>background-image</code>:</p><p><a href=/img/post-assets/2013-12-22/05f4.github-content-wrapper.png title="Content Wrapper" class=colorbox><img src=/img/post-assets/2013-12-22/05f4.github-content-wrapper.png></a></p><p>and then another <code>div</code> containing the content nested in the center using a fixed width with an auto margin, basicaly centering the content.</p><p><a href=/img/post-assets/2013-12-22/7374.github-content.png title=Content class=colorbox><img src=/img/post-assets/2013-12-22/7374.github-content.png></a></p><h2>Why is this Bad?</h2><p>Its not &quot;bad&quot;, it just adds a lot of extra unneccessary markup/divs which:</p><ul><li>Increases complexity of page making it harder to work with/change/maintain</li><li>Makes it harder to use responsive CSS for responsive design</li><li>More code coming down the wire/larger page/performance</li></ul><p>There is a better way! ... IF you don&#39;t have to worry about older browsers :)</p><h2>Calc All the Things!</h2><p><a href=https://developer.mozilla.org/en-US/docs/Web/CSS/calc>Calc</a> is one of my favorite new things about CSS. If you haven&#39;t played around with it, I highly recommend you do. Tt is immensely powerful and has enabled me to do so many amazing things without relying on absolute positioning and/or adding tons of extra markup.</p><p>The key is that calc allows the browser to use mixed units for units of measurements. For some good examples of calc is use, there is a great <a href="http://css-tricks.com/a-couple-of-use-cases-for-calc/">CSSTricks</a> article that goes over some common design patters and how calc can be used to achieve them.</p><p>So how can calc help us from <a href=http://en.wiktionary.org/wiki/divitis>Divitis</a>? Easily!</p><p>So lets start by simplifying our markup a little bit:</p><div class=highlight><pre><code class=language-html data-lang=html><span class=nt>&lt;header</span> <span class=na>id=</span><span class=s>&quot;page-header&quot;</span> <span class=na>role=</span><span class=s>&quot;banner&quot;</span><span class=nt>&gt;</span>
  <span class=nt>&lt;h1&gt;</span>Here Is Our Header!<span class=nt>&lt;/h1&gt;</span>
<span class=nt>&lt;/header&gt;</span><span class=c>&lt;!-- /header#page-header --&gt;</span>

<span class=nt>&lt;div</span> <span class=na>id=</span><span class=s>&quot;main&quot;</span> <span class=na>role=</span><span class=s>&quot;main&quot;</span><span class=nt>&gt;</span>
  <span class=nt>&lt;p&gt;</span>Our Main &quot;content&quot; area.<span class=nt>&lt;/p&gt;</span>
<span class=nt>&lt;/div&gt;</span><span class=c>&lt;!-- /div#main --&gt;</span>

<span class=nt>&lt;footer</span> <span class=na>id=</span><span class=s>&quot;page-footer&quot;</span><span class=nt>&gt;</span>
  A footer... cause, why not.
<span class=nt>&lt;/footer&gt;</span><span class=c>&lt;!-- /footer#page-footer --&gt;</span>
</code></pre></div><p>This is pretty clean and simple and we don&#39;t really want to add any more markup just for the sake of our design. Using calc we can dynamically add padding to the left and right so that the content is centered, but the design styles will apply to the whole block.</p><p>Lets take our <code>#main</code> and style it with a black background with the content in a 1280px width nested in the center.</p><h2>The Math</h2><p>So the math here is we have the full page width (100%) and we need to take out a fixed pixel chunk for our content (1280px) and then the padding on either side is half of whatever is left ... 50% of that for the right, 50% for the left:</p><p>Each margin: <code>(100% - 1280px) / 2</code></p><p>We could do that with calc like this:</p><div class=highlight><pre><code class=language-css data-lang=css><span class=nf>#main</span> <span class=p>{</span>
  <span class=k>background-color</span><span class=o>:</span> <span class=nb>black</span><span class=p>;</span>
  <span class=k>padding-right</span><span class=o>:</span> <span class=n>calc</span><span class=p>((</span><span class=m>100%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-left</span><span class=o>:</span> <span class=n>calc</span><span class=p>((</span><span class=m>100%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p>Now remember, calc is pretty new, so probably to be safe you might want to add the browser vendor prefixes (or use something like a preprocessor such as <a href="http://sass-lang.com/">Sass</a> with mixins to take care of it :</p><div class=highlight><pre><code class=language-css data-lang=css><span class=nf>#main</span> <span class=p>{</span>
  <span class=k>background-color</span><span class=o>:</span> <span class=nb>black</span><span class=p>;</span>
  <span class=k>padding-left</span><span class=o>:</span> <span class=o>-</span><span class=n>moz</span><span class=o>-</span><span class=n>calc</span><span class=p>((</span><span class=m>100%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-left</span><span class=o>:</span> <span class=o>-</span><span class=n>webkit</span><span class=o>-</span><span class=n>calc</span><span class=p>((</span><span class=m>100%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-left</span><span class=o>:</span> <span class=n>calc</span><span class=p>((</span><span class=m>100%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-right</span><span class=o>:</span> <span class=o>-</span><span class=n>moz</span><span class=o>-</span><span class=n>calc</span><span class=p>((</span><span class=m>100%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-right</span><span class=o>:</span> <span class=o>-</span><span class=n>webkit</span><span class=o>-</span><span class=n>calc</span><span class=p>((</span><span class=m>100%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
  <span class=k>padding-right</span><span class=o>:</span> <span class=n>calc</span><span class=p>((</span><span class=m>100%</span> <span class=o>-</span> <span class=m>1280px</span><span class=p>)</span> <span class=o>/</span> <span class=m>2</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><h2>See It in Action</h2><p>Using <a href=http://codepen.io/lynnwallenstein/pen/HKdCz>Codepen</a>, I created a similar (yet even cleaner! Sass &lt;3) version you can see in action:</p><p data-height=420 data-theme-id=0 data-slug-hash=HKdCz data-user=lynnwallenstein data-default-tab=result class=codepen>See the Pen <a href=http://codepen.io/lynnwallenstein/pen/HKdCz>HKdCz</a> by Lynn Wallenstein (<a href=http://codepen.io/lynnwallenstein>@lynnwallenstein</a>) on <a href=http://codepen.io>CodePen</a></p><script async src=//codepen.io/assets/embed/ei.js></script><h2>Thats It!</h2><p>Thats all it takes. Now I have a full width designed page, but centered content with beautiful semantic markup and no divitis!</p><footer class=post-footer><dl><dt>Tagged</dt><dd><ul class=tag-list><li><a href=/tag/css><span class="ss-icon ss-air">tag</span> css</a></li><li><a href=/tag/webdev><span class="ss-icon ss-air">tag</span> webdev</a></li></ul></dd><dt>Date Posted</dt><dd><time datetime=2013-12-22T12:20:20-08:00><span class="ss-icon ss-air">calendar</span> 22 Dec 2013</time></dd><dt>Trackback URL</dt><dd class=trackback-url><span class="ss-icon ss-air">bookmark</span><a href="http://lynn.io/2013/12/22/nested-layouts-with-less-divs/">http://lynn.io/2013/12/22/nested-layouts-with-less-divs/</a></dd></dl></footer></article></main><script src=//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/6a4f.script.js></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-29731571-4', 'lynn.io');
  ga('send', 'pageview');</script></body></html>